(window["webpackJsonpchat-client"]=window["webpackJsonpchat-client"]||[]).push([[0],{33:function(e,t,a){e.exports=a(70)},38:function(e,t,a){},65:function(e,t){},70:function(e,t,a){"use strict";a.r(t);var n,c=a(0),r=a.n(c),s=a(29),o=a.n(s),i=(a(38),a(32)),u=a(15),m=a(30),l=a.n(m),f=a(31),g=function(e){var t=e.message,a=e.id,n=e.hour,c=e.minute,s=e.myId,o=e.index;return r.a.createElement("div",{key:o,className:"message ".concat(a===s?"message_self":"message_other")},r.a.createElement("p",null,t,r.a.createElement("span",null,n,":",c)))},d=a.n(f)()(),p=l()("https://api-chat-ted2370.herokuapp.com/"),h=function(){var e=r.a.useState(""),t=Object(u.a)(e,2),a=t[0],c=t[1],s=r.a.useState([]),o=Object(u.a)(s,2),m=o[0],l=o[1],f=r.a.useRef(),h=r.a.useRef();r.a.useEffect((function(){(n=window.localStorage.getItem("myid"))?n=window.localStorage.getItem("myid"):(window.localStorage.setItem("myid",d),n=d)}),[]),r.a.useEffect((function(){var e=window.localStorage.getItem("messages");e&&l(JSON.parse(e))}),[]),r.a.useEffect((function(){setTimeout((function(){h.current.scrollTo(0,h.current.scrollHeight)}))}),[]),r.a.useEffect((function(){f.current.focus(),p.on("chat message",(function(e){var t=[].concat(Object(i.a)(m),[e]);l(t),window.localStorage.setItem("messages",JSON.stringify(t)),e.id===n&&h.current.scrollTo(0,h.current.scrollHeight),p.off("chat message")}))}),[m]);return r.a.createElement("section",{className:"container"},r.a.createElement("div",{className:"messages"},r.a.createElement("div",{className:"bg",ref:h},m.map((function(e,t){var a=e.message,c=e.id,s=e.hour,o=e.minute;return r.a.createElement(g,{message:a,id:c,hour:s,minute:o,index:t,myId:n})})))),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a.trim()&&(p.emit("chat message",{id:n,message:a}),c(""))}},r.a.createElement("input",{type:"text",placeholder:"Digite uma mensagem",value:a,onChange:function(e){var t=e.target;return c(t.value)},ref:f})))};var E=function(){return r.a.createElement(h,null)};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,null)),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.2bbb02ce.chunk.js.map