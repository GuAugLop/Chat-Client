(window["webpackJsonpchat-client"]=window["webpackJsonpchat-client"]||[]).push([[0],{33:function(e,t,a){e.exports=a(70)},38:function(e,t,a){},65:function(e,t){},70:function(e,t,a){"use strict";a.r(t);var n,c=a(0),r=a.n(c),s=a(29),o=a.n(s),l=(a(38),a(32)),u=a(15),i=a(30),m=a.n(i),f=a(31),g=a.n(f)()(),d=m()("https://api-chat-ted2370.herokuapp.com/"),p=function(){var e=r.a.useState(""),t=Object(u.a)(e,2),a=t[0],c=t[1],s=r.a.useState([]),o=Object(u.a)(s,2),i=o[0],m=o[1],f=r.a.useRef(),p=r.a.useRef();r.a.useEffect((function(){(n=window.localStorage.getItem("myid"))?n=window.localStorage.getItem("myid"):(window.localStorage.setItem("myid",g),n=g)}),[]),r.a.useEffect((function(){var e=window.localStorage.getItem("messages");e&&m(JSON.parse(e))}),[]),r.a.useEffect((function(){setTimeout((function(){p.current.scrollTo(0,p.current.scrollHeight)}))}),[]),r.a.useEffect((function(){f.current.focus(),d.on("chat message",(function(e){var t=[].concat(Object(l.a)(i),[e]);m(t),window.localStorage.setItem("messages",JSON.stringify(t)),e.id===n&&p.current.scrollTo(0,p.current.scrollHeight),d.off("chat message")}))}),[i]);return r.a.createElement("section",{className:"container"},r.a.createElement("div",{className:"messages"},r.a.createElement("div",{className:"bg",ref:p},i.map((function(e,t){var a=e.message,c=e.id,s=e.hour,o=e.minute;return r.a.createElement("div",{key:t,className:"message ".concat(c===n?"message_self":"message_other")},r.a.createElement("p",null,a,r.a.createElement("span",null,s,":",o)))})))),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a.trim()&&(d.emit("chat message",{id:n,message:a}),c(""))}},r.a.createElement("input",{type:"text",placeholder:"Digite uma mensagem",value:a,onChange:function(e){var t=e.target;return c(t.value)},ref:f})))};var w=function(){return r.a.createElement(p,null)};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.0789ab0e.chunk.js.map